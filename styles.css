:root{
  --bg:#070b16; --panel:#0b1020; --soft:#121934; --line:#1d2b5a;
  --text:#cfe3ff; --text-dim:#91a5c7; --neon:#3ea3ff; --neon-2:#8b7bff;
  --ok:#39d98a; --warn:#ffd166; --err:#ff5d5d; --info:#58a6ff; --class:#b388ff;
  --coin:#f5c542;
}
*{box-sizing:border-box} html,body{margin:0;height:100%;background:linear-gradient(180deg,#060912,#0a0f1f)}
body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,'Noto Sans',sans-serif;color:var(--text)}
h1,h2,h3{margin:.2rem 0}
#app{min-height:100vh;display:flex;flex-direction:column}

.hud{display:flex;justify-content:space-between;align-items:center;padding:12px 16px;background:var(--panel);border-bottom:1px solid var(--line);position:sticky;top:0;z-index:10}
.hud__left{display:flex;align-items:center;gap:12px}
.logo{height:28px;filter:drop-shadow(0 0 6px var(--neon))}
.playerline{display:flex;gap:8px;align-items:center;color:var(--text-dim)}
.badge{padding:2px 8px;border-radius:999px;background:var(--soft);border:1px solid var(--line);font-size:12px}
.badge--coin{color:#1e1400;background:linear-gradient(90deg,#ffe08a,#ffd257);border-color:#b58b1f}

.bars{display:grid;grid-template-columns:1fr;gap:6px;margin-top:4px}
.bar label{font-size:11px;color:var(--text-dim)}
.bar__track{height:8px;background:#0a1430;border:1px solid var(--line);border-radius:999px;overflow:hidden}
.bar__fill{height:100%;width:0;background:linear-gradient(90deg,#2c7be5,#3ea3ff);box-shadow:0 0 12px #2c7be5 inset,0 0 8px #2c7be5}
.bar__fill--alt{background:linear-gradient(90deg,#7c5cff,#b388ff);box-shadow:0 0 12px #7c5cff inset,0 0 8px #7c5cff}

main#view{padding:16px;display:block}
.section{background:rgba(14,20,44,.7);border:1px solid var(--line);border-radius:14px;padding:14px;margin-bottom:12px;backdrop-filter:blur(3px);box-shadow:0 6px 20px rgba(3,8,20,.3)}
.grid{display:grid;gap:12px}
.cols-2{grid-template-columns:1fr 1fr}
.cols-3{grid-template-columns:repeat(3,1fr)}
.flex{display:flex;gap:10px;align-items:center}
.btn{background:linear-gradient(90deg,#163a7a,#2b6cb0);border:1px solid #274c88;color:#eaf3ff;padding:10px 12px;border-radius:12px;cursor:pointer}
.btn:hover{filter:brightness(1.08)}
.btn--ghost{background:transparent;border:1px solid var(--line);color:var(--text)}
.btn--ok{background:linear-gradient(90deg,#1e845a,#2fb37d);border-color:#1e845a}
.btn--warn{background:linear-gradient(90deg,#9a7a1a,#d1a31e);border-color:#b58b1f}
.btn--err{background:linear-gradient(90deg,#7a1a1a,#b12b2b);border-color:#8f1e1e}
.btn--class{background:linear-gradient(90deg,#5a3aa0,#8b7bff);border-color:#6f55c0}
.btn--urgent{background:linear-gradient(90deg,#7a1f29,#cc3344);border-color:#9f2330}

.tabs{position:sticky;bottom:0;left:0;right:0;display:flex;gap:6px;justify-content:space-around;background:var(--panel);border-top:1px solid var(--line);padding:8px}
.tab{flex:1;padding:10px 6px;background:#0a1226;color:var(--text-dim);border:1px solid var(--line);border-radius:10px;cursor:pointer}
.tab.is-active{color:#eaf3ff;border-color:#3ea3ff;box-shadow:inset 0 0 0 1px #3ea3ff}

.card{background:#0a1226;border:1px solid var(--line);border-radius:14px;padding:12px}
.mission{display:grid;gap:8px}
.mission__head{display:flex;justify-content:space-between;align-items:center}
.mission__timer{font-variant-numeric:tabular-nums;color:var(--warn)}
.kv{display:flex;gap:8px;flex-wrap:wrap}
.kv span{padding:2px 8px;border:1px solid var(--line);border-radius:999px;background:rgba(255,255,255,.03);font-size:12px;color:var(--text-dim)}

.modalRoot{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(3,6,14,.58)}
.modalRoot.is-open{display:flex}
.modal{min-width:320px;max-width:520px;background:var(--panel);border:1px solid var(--line);border-radius:16px;padding:14px;box-shadow:0 12px 48px rgba(0,0,0,.5)}
.modal__title{margin:0 0 6px 0}
.modal__actions{display:flex;gap:8px;justify-content:flex-end;margin-top:12px}
.tag{padding:2px 8px;border-radius:8px;border:1px solid var(--line);font-size:12px}
.tag--blue{background:#0d2448;color:#a8c9ff;border-color:#1c3b74}
.tag--purple{background:#1b1348;color:#cdb7ff;border-color:#2e2270}
.tag--red{background:#421318;color:#f8c7cd;border-color:#69202a}
.tag--yellow{background:#3a3413;color:#ffe28a;border-color:#6a5f21}
.tag--green{background:#103a2b;color:#b6f3d7;border-color:#1d624a}

.toastRoot{position:fixed;right:12px;bottom:78px;display:flex;flex-direction:column;gap:8px;z-index:5}
.toast{padding:10px 12px;border-radius:12px;border:1px solid var(--line);background:#0a1226;box-shadow:0 8px 20px rgba(0,0,0,.35)}
.toast--ok{border-color:#1e845a}
.toast--warn{border-color:#b58b1f}
.toast--err{border-color:#8f1e1e}
.toast--info{border-color:#274c88}
